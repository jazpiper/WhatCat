# WhatCat ì‹ ê·œ ê¸°ëŠ¥ PRD (DB ì—†ì´ êµ¬í˜„ ê°€ëŠ¥)

**ìž‘ì„±ì¼:** 2026-02-19
**ë²„ì „:** 1.0.0
**ì œì•½ ì¡°ê±´:** DB ì—†ì´ êµ¬í˜„ (localStorage, URL íŒŒë¼ë¯¸í„°, ì •ì  JSON, Edge Functionsë§Œ ì‚¬ìš©)

---

## ëª©ì°¨

1. [MBTI ê¶í•© í…ŒìŠ¤íŠ¸](#1-mbti-ê¶í•©-í…ŒìŠ¤íŠ¸)
2. [ìœ ëª…ì¸ ë§¤ì¹­ ì¹´ë“œ](#2-ìœ ëª…ì¸-ë§¤ì¹­-ì¹´ë“œ)
3. [í’ˆì¢…ë³„ FAQ + êµ¬ì¡°í™”ëœ ë°ì´í„°](#3-í’ˆì¢…ë³„-faq--êµ¬ì¡°í™”ëœ-ë°ì´í„°)
4. [ë™ì  OG ì´ë¯¸ì§€ ìƒì„±](#4-ë™ì -og-ì´ë¯¸ì§€-ìƒì„±)
5. [êµ¬í˜„ ìš°ì„ ìˆœìœ„ ë° ì¼ì •](#5-êµ¬í˜„-ìš°ì„ ìˆœìœ„-ë°-ì¼ì •)

---

# 1. MBTI ê¶í•© í…ŒìŠ¤íŠ¸

## 1.1 Problem

### í˜„í™©
- WhatCatì€ 14ê°œ ë¬¸í•­ìœ¼ë¡œ 5ëŒ€ ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ í’ˆì¢… ë§¤ì¹­
- compare íŽ˜ì´ì§€ëŠ” ë‹¨ìˆœ ì†ì„± ë¹„êµë§Œ ì œê³µ (ë°”ì´ëŸ´ ìš”ì†Œ ì•½í•¨)

### ë¬¸ì œì 
1. ìž¬ë¯¸ ìš”ì†Œ ë¶€ì¡± - "í™œë™ì„± ì°¨ì´"ë§Œ ë³´ì—¬ì¤Œ
2. ê³µìœ  ë™ê¸° ì €í•˜ - ë‹¨ìˆœ ì •ë³´ë§Œìœ¼ë¡œ í¥ë¯¸ ìœ ë„ ì–´ë ¤ì›€
3. MBTIëŠ” í•œêµ­ì—ì„œ ëŒ€ì¤‘ì ìœ¼ë¡œ ì¸ì‹ëœ ì„±ê²© ìœ í˜•

### ê¸°íšŒ
- "ê³ ì–‘ì´ MBTI" ë…ì°½ì  ì½˜ì…‰íŠ¸ë¡œ ì°¨ë³„í™”
- ê¶í•© ì ìˆ˜ + ìž¬ë¯¸ìžˆëŠ” ì½”ë©˜íŠ¸ë¡œ ë°”ì´ëŸ´ ê³µìœ  ìœ ë„

## 1.2 Goals

| ì§€í‘œ | í˜„ìž¬ | ëª©í‘œ |
|------|------|------|
| ê²°ê³¼ ê³µìœ ìœ¨ | 15% | 25% (+10%p) |
| compare íŽ˜ì´ì§€ ë°©ë¬¸ìœ¨ | 5% | 12% (+7%p) |
| ìž¬ë°©ë¬¸ìœ¨ (7ì¼ ë‚´) | 20% | 30% (+10%p) |

## 1.3 Non-goals

- DB êµ¬ì¶• ì—†ìŒ (localStorage + URL íŒŒë¼ë¯¸í„°ë§Œ)
- ì‹¤ì œ MBTI ê²€ì‚¬ ì•„ë‹˜ (ê¸°ì¡´ 14ë¬¸í•­ í™œìš©, 4ê¸€ìž ì½”ë“œë§Œ ë§¤í•‘)
- íšŒì›ê°€ìž…/ë¡œê·¸ì¸ ì—†ìŒ
- ì‹¤ì‹œê°„ ë§¤ì¹­ ì—†ìŒ

## 1.4 Requirements

### MBTI ì½”ë“œ ë§¤í•‘

| ìœ„ì¹˜ | ì°¨ì› | ê¸°ì¤€ |
|------|------|------|
| 1ë²ˆì§¸ (E/I) | í™œë™ì„± + ì‚¬êµì„± | í‰ê·  >= 3.5 â†’ E, < 3.5 â†’ I |
| 2ë²ˆì§¸ (S/N) | ì¡°ìš©í•¨ | >= 3 â†’ S, < 3 â†’ N |
| 3ë²ˆì§¸ (T/F) | ì• ì •ë„ | >= 3 â†’ F, < 3 â†’ T |
| 4ë²ˆì§¸ (J/P) | ì¶©ì„±ì‹¬ + í›ˆë ¨ | í‰ê·  >= 3 â†’ J, < 3 â†’ P |

### 16ê°€ì§€ MBTI ë³„ëª…

| MBTI | ë³„ëª… |
|------|------|
| INTJ | ì „ëžµê°€ ëƒ¥ì´ |
| INTP | ì² í•™ìž ëƒ¥ì´ |
| ENTJ | ëŒ€ìž¥ ëƒ¥ì´ |
| ENTP | ë°œëª…ê°€ ëƒ¥ì´ |
| INFJ | ì˜ˆì–¸ìž ëƒ¥ì´ |
| INFP | ëª½ìƒê°€ ëƒ¥ì´ |
| ENFJ | ì™¸êµê´€ ëƒ¥ì´ |
| ENFP | ì‘ì›ê°€ ëƒ¥ì´ |
| ISTJ | ê°ì‹œìž ëƒ¥ì´ |
| ISFJ | ìˆ˜í˜¸ìž ëƒ¥ì´ |
| ESTJ | ê´€ë¦¬ìž ëƒ¥ì´ |
| ESFJ | ëŒë´„ì´ ëƒ¥ì´ |
| ISTP | ìž¥ì¸ ëƒ¥ì´ |
| ISFP | ì˜ˆìˆ ê°€ ëƒ¥ì´ |
| ESTP | ëª¨í—˜ê°€ ëƒ¥ì´ |
| ESFP | ì—°ì˜ˆì¸ ëƒ¥ì´ |

### ê¶í•© ì ìˆ˜ ê³„ì‚°

```
ê¶í•© ì ìˆ˜ = ê¸°ë³¸ í˜¸í™˜ì„±(40%) + ì„±ê²© ë³´ì™„ì„±(30%) + í™˜ê²½ ì í•©ì„±(30%)
```

| ì ìˆ˜ | ë“±ê¸‰ | ì´ëª¨ì§€ |
|------|------|--------|
| 90-100 | ì²œìƒì—°ë¶„ | ðŸ’• |
| 80-89 | ì°°ë–¡ê¶í•© | ðŸ’— |
| 70-79 | ì¢‹ì€ ì¹œêµ¬ | ðŸ˜Š |
| 60-69 | ë°°ìš¸ ì  ìžˆìŒ | ðŸ¤ |
| 0-59 | ì•¼ì˜¹ì•¼ì˜¹ | ðŸ˜¸ |

### URL íŒŒë¼ë¯¸í„° í™•ìž¥

```
/compare?breed1=russian-blue&score1=85&mbti1=ISFJ&breed2=scottish-fold&score2=78&mbti2=ESFP
```

## 1.5 êµ¬í˜„ íŒŒì¼

| íŒŒì¼ | ìž‘ì—… |
|------|------|
| `src/utils/catMBTI.ts` | ì‹ ê·œ - MBTI ê³„ì‚° ë¡œì§ |
| `src/utils/compatibility.ts` | ì‹ ê·œ - ê¶í•© ê³„ì‚° ë¡œì§ |
| `src/data/mbtiDescriptions.ts` | ì‹ ê·œ - 16ê°€ì§€ ì„¤ëª… |
| `src/components/Result/MBTIBadge.tsx` | ì‹ ê·œ - ë±ƒì§€ ì»´í¬ë„ŒíŠ¸ |
| `src/components/Compatibility/CompatibilityCard.tsx` | ì‹ ê·œ - ê¶í•© ì¹´ë“œ |
| `src/app/(test)/compare/page.tsx` | ìˆ˜ì • - ê¶í•© ì„¹ì…˜ ì¶”ê°€ |

---

# 2. ìœ ëª…ì¸ ë§¤ì¹­ ì¹´ë“œ

## 2.1 Problem

- `breeds.json`ì˜ `famous_matches` ë°ì´í„°ê°€ ì¶©ë¶„ížˆ í™œìš©ë˜ì§€ ì•ŠìŒ
- ê²°ê³¼ ê³µìœ  ì‹œ í¥ë¯¸ë¡œìš´ í›…(Hook) ë¶€ì¡±
- ë°”ì´ëŸ´ ìš”ì†Œ ë¯¸í¡

## 2.2 Goals

| ì§€í‘œ | ëª©í‘œ |
|------|------|
| ê²°ê³¼ ê³µìœ ìœ¨ | 30% ì¦ê°€ |
| ì¸ìŠ¤íƒ€ê·¸ëž¨ ìŠ¤í† ë¦¬ ê³µìœ  | 30% ì¦ê°€ |
| ì¹´ì¹´ì˜¤í†¡ ê³µìœ  í´ë¦­ë¥  | 25% ì¦ê°€ |

## 2.3 Non-goals

- DB êµ¬ì¶• ì—†ìŒ (ê¸°ì¡´ `breeds.json` ë°ì´í„°ë§Œ)
- ìœ ëª…ì¸ ì‹¤ì œ ì‚¬ì§„ ì‚¬ìš© ì•ˆí•¨ (ì €ìž‘ê¶Œ)
- ìƒˆë¡œìš´ í’ˆì¢… ì¶”ê°€ ì•ˆí•¨
- ë³„ë„ íŽ˜ì´ì§€ ìƒì„± ì•ˆí•¨ (ê²°ê³¼ íŽ˜ì´ì§€ ë‚´ ì„¹ì…˜)

## 2.4 Requirements

### F-1: ìœ ëª…ì¸ ë§¤ì¹­ ì„¹ì…˜ ê°•í™”
- seed ê¸°ë°˜ ì¼ê´€ëœ ìœ ëª…ì¸ ì„ íƒ (`breed.id + score`)
- "ë‹¹ì‹ ì€ {ìœ ëª…ì¸}ê³¼ ê°™ì€ ëƒ¥ì´ íƒ€ìž…!" ë¬¸êµ¬

### F-2: ê³µìœ ìš© ìœ ëª…ì¸ ì¹´ë“œ ìƒì„±
- 9:16 ë¹„ìœ¨ (Instagram Story ìµœì í™”)
- html2canvas ê¸°ë°˜ ì´ë¯¸ì§€ ìƒì„±

### F-3: ê³µìœ  í…ìŠ¤íŠ¸ ê°œì„ 
- "ë‚˜ëŠ” í…Œì¼ëŸ¬ ìŠ¤ìœ„í”„íŠ¸ì™€ ê°™ì€ ëƒ¥ì´ íƒ€ìž…! ë‚˜ì˜ ì¸ìƒëƒ¥ì´ëŠ” ìŠ¤ì½”í‹°ì‹œ í´ë“œ (95% ë§¤ì¹­)"

## 2.5 êµ¬í˜„ íŒŒì¼

| íŒŒì¼ | ìž‘ì—… |
|------|------|
| `src/components/Result/FamousMatchCard.tsx` | ìˆ˜ì • - seed ê¸°ë°˜ ì„ íƒ, ë¬¸êµ¬ ê°œì„  |
| `src/components/Result/CelebrityMatchStoryCard.tsx` | ì‹ ê·œ - ìŠ¤í† ë¦¬ìš© ì¹´ë“œ |
| `src/utils/celebrityMatchCanvas.ts` | ì‹ ê·œ - ì´ë¯¸ì§€ ìƒì„± |
| `src/components/Result/SocialShare.tsx` | ìˆ˜ì • - ë²„íŠ¼ ì¶”ê°€ |
| `src/app/(test)/result/page.tsx` | ìˆ˜ì • - í†µí•© |

---

# 3. í’ˆì¢…ë³„ FAQ + êµ¬ì¡°í™”ëœ ë°ì´í„°

## 3.1 Problem

- í’ˆì¢… ìƒì„¸ íŽ˜ì´ì§€ê°€ Schema.org WebPageë§Œ ì‚¬ìš©
- ë¡±í…Œì¼ í‚¤ì›Œë“œ ê²€ìƒ‰ ë…¸ì¶œ ë¶€ì¡±
- Google Rich Results(FAQ ìŠ¤ë‹ˆíŽ«) ë¯¸í™œìš©

## 3.2 Goals

| ì§€í‘œ | ëª©í‘œ |
|------|------|
| GSC FAQ í´ë¦­ ìˆ˜ | +30% |
| í’ˆì¢… íŽ˜ì´ì§€ ì²´ë¥˜ ì‹œê°„ | +15% |
| Rich Results ë…¸ì¶œ í’ˆì¢… | 80% ì´ìƒ |

## 3.3 Non-goals

- DB ê¸°ë°˜ FAQ ê´€ë¦¬ (ì •ì  JSON)
- ì‚¬ìš©ìž ìƒì„± FAQ
- FAQ ë‹¤êµ­ì–´ ì§€ì›

## 3.4 Requirements

### ë°ì´í„° êµ¬ì¡°

```typescript
interface FaqItem {
  question: string;   // "ëŸ¬ì‹œì•ˆ ë¸”ë£¨ ì„±ê²©ì€?"
  answer: string;     // ë‹µë³€
  category?: 'personality' | 'care' | 'health' | 'cost' | 'environment';
}
```

### UI ì»´í¬ë„ŒíŠ¸
- ì•„ì½”ë””ì–¸ ë°©ì‹ FAQ ëª©ë¡
- ë‹¤í¬ëª¨ë“œ ì§€ì›

### êµ¬ì¡°í™”ëœ ë°ì´í„°

```typescript
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "ëŸ¬ì‹œì•ˆ ë¸”ë£¨ ì„±ê²©ì€?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "..."
      }
    }
  ]
}
```

### ë¡±í…Œì¼ í‚¤ì›Œë“œ ì „ëžµ

ê° í’ˆì¢…ë‹¹ ìµœì†Œ 5ê°œ FAQ:
- [í’ˆì¢…ëª…] ì„±ê²©ì€?
- [í’ˆì¢…ëª…] í‚¤ìš°ê¸° ì‰¬ì›Œ?
- [í’ˆì¢…ëª…] ì•„íŒŒíŠ¸ì—ì„œ í‚¤ìš¸ ìˆ˜ ìžˆì–´?
- [í’ˆì¢…ëª…] í„¸ ê´€ë¦¬ ì–´ë–»ê²Œ í•´?
- [í’ˆì¢…ëª…] ê±´ê°• ê´€ë¦¬ í¬ì¸íŠ¸ëŠ”?

## 3.5 êµ¬í˜„ íŒŒì¼

| íŒŒì¼ | ìž‘ì—… |
|------|------|
| `src/data/breedFaqs.ts` | ì‹ ê·œ - FAQ ë°ì´í„° |
| `src/components/Breed/BreedFaqSection.tsx` | ì‹ ê·œ - FAQ ì„¹ì…˜ |
| `src/utils/structuredData.ts` | ìˆ˜ì • - generateFaqPageStructuredData |
| `src/app/breed/[id]/layout.tsx` | ìˆ˜ì • - FAQPage JSON-LD |
| `src/app/breed/[id]/page.tsx` | ìˆ˜ì • - ì»´í¬ë„ŒíŠ¸ ì‚½ìž… |

---

# 4. ë™ì  OG ì´ë¯¸ì§€ ìƒì„±

## 4.1 Problem

- ì •ì  OG ì´ë¯¸ì§€ë§Œ í‘œì‹œ
- ì‚¬ìš©ìžë³„ ë§¤ì¹­ ì ìˆ˜ê°€ ë¯¸ë¦¬ë³´ê¸°ì— ë°˜ì˜ë˜ì§€ ì•ŠìŒ
- SNS ê³µìœ  ì‹œ ê°œì¸í™”ëœ ê²½í—˜ ë¶€ì¡±

## 4.2 Goals

| ì§€í‘œ | í˜„ìž¬ | ëª©í‘œ |
|------|------|------|
| SNS ê³µìœ  í´ë¦­ë¥  | 2.5% | 4% ì´ìƒ |
| ê³µìœ  ë§í¬ ì‹ ê·œ ë°©ë¬¸ìž | 15% | 25% ì´ìƒ |

## 4.3 Non-goals

- DB ì €ìž¥ ì—†ìŒ
- ë¹„ë””ì˜¤/ì• ë‹ˆë©”ì´ì…˜ OG
- A/B í…ŒìŠ¤íŠ¸
- ì»¤ìŠ¤í…€ í°íŠ¸

## 4.4 Requirements

### API ì—”ë“œí¬ì¸íŠ¸

```
GET /api/og?type=result&breed={breedId}&score={score}
```

### OG ì´ë¯¸ì§€ì— í¬í•¨ë  ì •ë³´

| í•­ëª© | ìœ„ì¹˜ |
|------|------|
| í’ˆì¢… ì´ëª¨ì§€ | ìƒë‹¨ ì¤‘ì•™ |
| í’ˆì¢…ëª… (í•œê¸€/ì˜ë¬¸) | ì´ëª¨ì§€ í•˜ë‹¨ |
| ë§¤ì¹­ ì ìˆ˜ | ì¤‘ì•™ ê°•ì¡° |
| ë§¤ì¹­ ë¬¸êµ¬ | ì ìˆ˜ í•˜ë‹¨ |
| ì„œë¹„ìŠ¤ëª… | í•˜ë‹¨ ë¡œê³  ì˜ì—­ |
| í’ˆì¢… íŠ¹ì§• (3ê°œ) | í•˜ë‹¨ ì •ë³´ ì˜ì—­ |

### ì ìˆ˜ë³„ ë§¤ì¹­ ë¬¸êµ¬

| ì ìˆ˜ | ë¬¸êµ¬ |
|------|------|
| 90-100 | ì™„ë²½í•œ ì¸ìƒëƒ¥ì´! ì°°ë–¡ê¶í•© |
| 80-89 | ì•„ì£¼ ìž˜ ë§žëŠ” ëƒ¥ì´! ìµœê³ ì˜ ì§ê¿ |
| 70-79 | ê½¤ ìž˜ ë§žëŠ” ëƒ¥ì´! ì¢‹ì€ ì¹œêµ¬ |
| 60-69 | ë‚˜ì˜ì§€ ì•Šì€ ë§¤ì¹­! ì•Œì•„ê°€ë³´ì„¸ìš” |
| 50-59 | í¥ë¯¸ë¡œìš´ ì¡°í•©! ìƒˆë¡œìš´ ë°œê²¬ |
| 0-49 | ì˜ì™¸ì˜ ë§¤ì¹­! ë‹¤ë¥¸ ìŠ¤íƒ€ì¼ |

### ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­

- Edge Function ì‘ë‹µ: P95 < 500ms
- ì´ë¯¸ì§€ í¬ê¸°: 1200x630px
- íŒŒì¼ í¬ê¸°: 100KB ì´í•˜

### ìºì‹± ì „ëžµ

```
Cache-Control: public, s-maxage=86400, stale-while-revalidate=604800
```

## 4.5 êµ¬í˜„ íŒŒì¼

| íŒŒì¼ | ìž‘ì—… |
|------|------|
| `src/app/api/og/route.tsx` | ì‹ ê·œ - Edge Function |
| `src/app/(test)/result/page.tsx` | ìˆ˜ì • - generateMetadata |
| `src/utils/share.ts` | ìˆ˜ì • - ì¹´ì¹´ì˜¤í†¡ imageUrl ë³€ê²½ |

---

# 5. êµ¬í˜„ ìš°ì„ ìˆœìœ„ ë° ì¼ì •

## 5.1 ìš°ì„ ìˆœìœ„ ë§¤íŠ¸ë¦­ìŠ¤

```
          ë†’ì€ íš¨ê³¼
              â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  FAQ SEO â”‚  ë™ì  OG â”‚
   â”‚ (ë‚®ìŒ,ë†’ìŒ)â”‚ (ì¤‘ê°„,ë†’ìŒ)â”‚
   â”‚          â”‚          â”‚
ì €ë ´â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ë³µìž¡ë„
   â”‚ ìœ ëª…ì¸   â”‚  MBTI    â”‚
   â”‚ (ë‚®ìŒ,ì¤‘ê°„)â”‚ (ì¤‘ê°„,ì¤‘ê°„)â”‚
   â”‚  ì¹´ë“œ    â”‚  ê¶í•©    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
          ë‚®ì€ íš¨ê³¼
```

## 5.2 ì¶”ì²œ êµ¬í˜„ ìˆœì„œ

### Phase 1 (1ì£¼) - ì¦‰ì‹œ íš¨ê³¼
1. **ìœ ëª…ì¸ ë§¤ì¹­ ì¹´ë“œ** (2ì¼)
   - ê¸°ì¡´ ë°ì´í„° í™œìš©
   - ë‚®ì€ ë³µìž¡ë„
   - ë†’ì€ ë°”ì´ëŸ´ íš¨ê³¼

2. **í’ˆì¢…ë³„ FAQ SEO** (3ì¼)
   - ì •ì  ë°ì´í„°ë§Œ
   - SEO ì¦‰ì‹œ íš¨ê³¼
   - Rich Results

### Phase 2 (2ì£¼) - í•µì‹¬ ê¸°ëŠ¥
3. **ë™ì  OG ì´ë¯¸ì§€** (4ì¼)
   - Edge Functions í™œìš©
   - SNS ê³µìœ  íš¨ê³¼ ê·¹ëŒ€í™”

4. **MBTI ê¶í•© í…ŒìŠ¤íŠ¸** (5ì¼)
   - compare íŽ˜ì´ì§€ í™•ìž¥
   - ë°”ì´ëŸ´ íš¨ê³¼ ë†’ìŒ

## 5.3 ì´ ì¼ì •

| Phase | ê¸°ê°„ | ê¸°ëŠ¥ |
|-------|------|------|
| Phase 1 | 5ì¼ | ìœ ëª…ì¸ ì¹´ë“œ + FAQ SEO |
| Phase 2 | 9ì¼ | ë™ì  OG + MBTI ê¶í•© |
| **ì´ê³„** | **14ì¼** | **4ê°œ ê¸°ëŠ¥** |

## 5.4 ê¸°ëŒ€ íš¨ê³¼

| ì§€í‘œ | Phase 1 í›„ | Phase 2 í›„ |
|------|-----------|-----------|
| DAU | +10% | +30% |
| ìž¬ë°©ë¬¸ìœ¨ | +10% | +30% |
| SNS ê³µìœ ìœ¨ | +30% | +100% |
| ê²€ìƒ‰ ìœ ìž… | +30% | +50% |

---

## ì°¸ê³  íŒŒì¼

- ê¸°ì¡´ ê¸°íšì„œ: `docs/new-feature-ideas.md`
- PRD í…œí”Œë¦¿: `docs/prd-breed-detail-page.md`
- ì•„í‚¤í…ì²˜: `docs/architecture.md`
